{% extends 'layout.html' %} {% block title %} Manage Password - CatVault {% endblock %} {% block main %}

<h2 id="heading-text">Manage Your Stored Passwords</h2>

<form id="add-form" action="/manager" method="post">
  <input type="hidden" name="add">
  <input type="text" name="website" placeholder="Website" required>
  <input type="text" name="username" placeholder="Username" required>
  <input type="password" name="password" placeholder="Password" required>
  <button type="submit">Add Password</button>
</form>

{% if passwords %}
  <ul id="retrieved-passwords">
    {% for item in passwords %}
      <li>
        Website: {{ item.website }}, Username: {{ item.username }}, Password: {{ item.password }}
        <form action="/manager" method="post" style="display:inline;">
          <input type="hidden" name="id" value="{{ item.id }}">
          <input type="hidden" name="edit">
          <input type="password" name="password" placeholder="New Password" required>
          <button type="submit">Edit</button>
        </form>
        <form action="/manager" method="post" style="display:inline;">
          <input type="hidden" name="id" value="{{ item.id }}">
          <input type="hidden" name="delete">
          <button type="submit">Delete</button>
        </form>
      </li>
    {% endfor %}
  </ul>
{% else %}
  <p>No passwords stored yet.</p>
{% endif %}

{% endblock %}